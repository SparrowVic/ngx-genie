<div class="matrix-host">
  <canvas #mainCanvas class="main-canvas"></canvas>

  <div class="virtual-scroller" #virtualScroller (scroll)="onScroll($event)">
    <div class="virtual-spacer" [style.width.px]="virtualWidth()" [style.height.px]="virtualHeight()"></div>
  </div>

  @if (isLoading()) {
    <lib-matrix-loading
      [isDataReady]="isWorkerDone()"
      (animationComplete)="onLoadingAnimationComplete()">
    </lib-matrix-loading>
  }

  <lib-matrix-settings
    [settings]="settings()"
    (settingsChange)="updateSettings($event)"
    (resetLayout)="resetView()">
  </lib-matrix-settings>

  <lib-matrix-legend class="matrix-legend"></lib-matrix-legend>
</div>
